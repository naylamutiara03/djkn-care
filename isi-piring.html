<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isi Piringku - DJKN CARE</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        /* Gaya Dasar */
        body {
            background-color: #badc84;
        }

        .navbar-custom {
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .back-btn {
            position: fixed;
            top: 80px;
            left: 25px;
            z-index: 9999;
            background: #ffffff;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.25);
        }

        /* Container Piring & Gambar */
        .plate-container {
            max-width: 1200px; /* Diperbesar untuk menampung gambar yang lebih besar */
            margin: 60px auto;
            text-align: center;
            padding: 0 15px;
        }

        .plate-image-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            /* Mengurangi jarak agar 5 elemen (Piring, Panah, Piring, Panah, ASI) muat dengan baik */
            gap: 25px; 
            margin-bottom: 40px;
        }

        /* Ukuran Gambar */
        .plate-image {
            width: 250px; /* Ukuran piring disesuaikan agar muat */
            height: auto;
            cursor: pointer; /* Menunjukkan ada interaksi (tooltip) */
        }

        .arrow-img {
            width: 60px; /* Ukuran panah disesuaikan */
            height: auto;
        }

        .asi-img {
            width: 120px; /* Ukuran gambar ASI disesuaikan */
            height: auto;
            margin-top: -15px;
        }

        .default-plate {
            width: 70%;
            max-width: 450px;
        }
    </style>
</head>

<body>

    <a href="home.html" class="back-btn">
        <i class="bi bi-arrow-left"></i>
    </a>

    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="home.html">
                <img src="DJKN_Logo.png" alt="logo" height="30" class="me-2"> 
                DJKN-CARE
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">

                    <li class="nav-item dropdown">
                        <a id="usiaDropdown" class="btn btn-success dropdown-toggle me-2" href="#" role="button"
                            data-bs-toggle="dropdown">
                            Pilih Usia
                        </a>

                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" onclick="changePlate('12-24')">Usia 12–23 Bulan</a></li>
                            <li><a class="dropdown-item" onclick="changePlate('2-5')">Usia 2–5 Tahun</a></li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>
    </nav>

    <div class="container plate-container">
        <h2 class="text-success mb-4">Rencanakan Piring Sehatmu!</h2>

        <p class="lead" id="usia-indicator">Silakan pilih usia untuk melihat komposisi piring.</p>

        <div class="plate-image-wrapper" id="plateContainer">
            <img src="img/isi-piring-removebg.png" class="default-plate" alt="Isi Piringku Default">
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Data gambar yang akan ditampilkan per usia
        const plateImages = {
            // ⭐ Urutan baru untuk 12-24 Bulan: Piring 1 -> Panah 1 -> Piring 2 -> Panah 2 -> ASI
            "12-24": [
                { type: "plate1", src: "img/piring1(12-24).png" }, // Piring 1: Bahan/Takaran (dengan Tooltip)
                { type: "arrow", src: "img/right-arrow.png" },    // Panah 1
                { type: "plate2", src: "img/piring2(12-24).png" }, // Piring 2: Hasil Jadi
                { type: "arrow2", src: "img/right-arrow.png" },   // Panah 2
                { type: "asi", src: "img/asi.png" }              // Kebutuhan ASI (di paling kanan)
            ],
            // Asumsi: img/isi-piring-2-5.png adalah gambar tunggal untuk usia 2-5 tahun
            "2-5": [
                { type: "single", src: "img/isi-piring-2-5.png" } 
            ]
        };

        // Tooltip Content
        const tooltipContent = "Nasi putih 5sdm=55 gram, Bayam dan wortel 20 gram, Minyak 7,5 gram, Garam 1/8 sdt=0,1gram, Ati 55 gram";

        function changePlate(ageKey) {
            const indicator = document.getElementById("usia-indicator");
            const dropdownText = document.getElementById("usiaDropdown");
            const container = document.getElementById("plateContainer");

            // Update tulisan dropdown dan indicator
            dropdownText.textContent = (ageKey === "12-24") ? "Usia 12–23 Bulan" : "Usia 2–5 Tahun";
            indicator.textContent = (ageKey === "12-24") ? "Kebutuhan Harian Balita 12–23 Bulan" : "Kebutuhan Harian Balita 2–5 Tahun";

            // Tampilkan gambar
            const images = plateImages[ageKey];
            container.innerHTML = "";
            container.style.gap = (ageKey === "12-24") ? "25px" : "0"; // Sesuaikan gap

            images.forEach(item => {
                const img = document.createElement("img");
                img.src = item.src;
                img.alt = item.type;

                // Tentukan kelas CSS berdasarkan tipe
                if (item.type === "arrow" || item.type === "arrow2") {
                    img.className = "arrow-img";
                } else if (item.type === "asi") {
                    img.className = "asi-img";
                } else if (item.type === "plate1") {
                    img.className = "plate-image";
                    
                    // Tambahkan atribut untuk Tooltip Bootstrap
                    img.setAttribute('data-bs-toggle', 'tooltip');
                    img.setAttribute('data-bs-placement', 'bottom');
                    img.setAttribute('data-bs-title', tooltipContent);

                } else if (item.type === "plate2") {
                    img.className = "plate-image";
                } else if (item.type === "single") {
                    img.className = "default-plate";
                }

                container.appendChild(img);
            });
            
            // Inisialisasi Tooltip setelah elemen ditambahkan ke DOM
            if (ageKey === "12-24") {
                const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
                const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
            }
        }
    </script>

</body>

</html>